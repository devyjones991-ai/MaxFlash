# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ MaxFlash

## üìã –û–±–∑–æ—Ä

MaxFlash –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ Semantic Versioning (SemVer).

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `version.py`:

```python
__version__ = "1.0.0"
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–í–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å:
- `pyproject.toml` - –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤ Python
- `api/main.py` - –¥–ª—è API
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –≤–µ—Ä—Å–∏—é –∏–∑ `version.py`

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python scripts/sync_version.py

# –í–µ—Ä—Å–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏:
# - Pre-commit hooks
# - CI/CD pipeline
# - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–º–∏—Ç–∞—Ö
```

## üì¶ Semantic Versioning

–§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏: `MAJOR.MINOR.PATCH`

- **MAJOR** (X.0.0): –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API
- **MINOR** (0.X.0): –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é
- **PATCH** (0.0.X): –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –º–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä—ã

- `1.0.0` ‚Üí `1.0.1` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `1.0.1` ‚Üí `1.1.0` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `1.1.0` ‚Üí `2.0.0` - breaking changes

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ –∫–æ–¥–µ

### –ò–º–ø–æ—Ä—Ç –≤–µ—Ä—Å–∏–∏

```python
from version import get_version, get_version_info

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤–µ—Ä—Å–∏–∏
version = get_version()  # "1.0.0"

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
info = get_version_info()
# {
#     "version": "1.0.0",
#     "major": 1,
#     "minor": 0,
#     "patch": 0
# }
```

### –í API

```python
from version import get_version
VERSION = get_version()

app = FastAPI(version=VERSION)
```

## üîÄ Git Workflow

### –í–µ—Ç–∫–∏

- **main** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã
- **dev** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** (dev –≤–µ—Ç–∫–∞)
   ```bash
   git checkout dev
   # ... —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ...
   python scripts/auto_commit_push.sh "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
   ```

2. **–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è** (dev ‚Üí main)
   ```bash
   # –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   # Smoke —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   # –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç
   git checkout main
   git merge dev
   git push origin main
   ```

3. **–†–µ–ª–∏–∑** (main)
   ```bash
   # –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ version.py
   python scripts/sync_version.py
   git tag v1.0.0
   git push origin v1.0.0
   ```

## üìù –°–∫—Ä–∏–ø—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–∏—Ç –∏ –ø—É—à

```bash
# Linux/Mac
./scripts/auto_commit_push.sh "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"

# Windows
scripts\auto_commit_push.bat "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Ä—Å–∏—é
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–Ω—Ç–µ—Ä
- –°–æ–∑–¥–∞–µ—Ç –∫–æ–º–º–∏—Ç
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### –°–æ–∑–¥–∞–Ω–∏–µ dev –≤–µ—Ç–∫–∏

```bash
# Linux/Mac
./scripts/create_dev_branch.sh

# Windows
scripts\create_dev_branch.bat
```

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`pytest`)
- [ ] Smoke —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`pytest -m smoke`)
- [ ] –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç (`ruff check .`)
- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ `version.py`
- [ ] –í–µ—Ä—Å–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ (`python scripts/sync_version.py`)
- [ ] Changelog –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –¢–µ–≥–∏ —Å–æ–∑–¥–∞–Ω—ã (`git tag v1.0.0`)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [IMPROVEMENT_PLAN.md](../IMPROVEMENT_PLAN.md) - –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π
- [docs/testing_guide.md](testing_guide.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [docs/CI_CD.md](CI_CD.md) - CI/CD –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

